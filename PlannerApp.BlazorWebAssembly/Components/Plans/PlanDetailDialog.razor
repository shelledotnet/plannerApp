@namespace PlannerApp.BlazorWebAssembly.Components.Plans

<MudDialog>
    <TitleContent>
            <MudText Typo="Typo.h6">Plan Details.... </MudText>
    </TitleContent>
    <DialogContent>

        <MudGrid>
            <MudItem sm="12" md="5">
                @if (_isBusy)
                {
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:200px" />
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Rectangle" Height="40px" Style="min-width:200px" />
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:200px" />
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:200px" />

                }
                else
                {
                    
                    <MudText Typo="Typo.subtitle1">@_plan?.Title</MudText>
                    
                    <!--plan details go here -->
                    <img style="width:100%;border-radius:5px" src="@_plan.CoverUrl" />
                    <MudText Typo="Typo.body1">@_plan?.Description</MudText>
                }
            </MudItem>
            <MudItem sm="12" md="7">

                @if (_isBusy)
                {
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:250px" />
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:250px" />
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:250px" />
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:250px" />
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:250px" />
                }
                else
                {
                    <!--plans items go here -->
                    //subscribing to that eventcallback OnToDoItemAdded="@OnToDoItemAddedCallBack"
                   <CreateToDoItemForm PlannId="@PlanId" OnToDoItemAdded="@OnToDoItemAddedCallBack"/>
                   <div class="items-container">
                    @foreach (var item in _items)
                    {
                        <MyDo Item="item" OnItemDeleted="@OnItemDeletedCallBack" OnItemEdit="@OnItemEditCallBack"/>
                    }
                 </div>
                }
            </MudItem>
        </MudGrid>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Close">Close</MudButton>
    </DialogActions>
</MudDialog>


